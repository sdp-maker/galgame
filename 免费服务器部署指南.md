# Galgame项目免费服务器部署指南

本指南详细介绍如何将您的Galgame项目部署到各种免费服务器平台上，让好友可以通过网络直接访问游玩。

## 准备工作

1. 确保您已经完成项目的打包：`npm run build`
2. 所有文件已准备在`dist`目录中
3. 我们已经为您配置好了以下内容：
   - 支持从环境变量读取端口的`server.js`
   - Heroku部署所需的`Procfile`

## 1. Vercel部署（推荐）

### 优点
- 免费计划稳定
- 部署简单快速
- CDN加速，访问速度快
- 支持自动HTTPS

### 部署步骤

1. **注册账号**
   - 访问 [Vercel官网](https://vercel.com/)
   - 使用GitHub/GitLab/Bitbucket账号或邮箱注册

2. **安装Vercel CLI**
   ```bash
   npm install -g vercel
   ```

3. **进入项目目录**
   ```bash
   cd dist
   ```

4. **登录并部署**
   ```bash
   vercel login
   vercel
   ```

5. **按照提示操作**
   - 选择您的Vercel账号
   - 选择创建新项目
   - 确认项目名称
   - 其他选项使用默认值

6. **部署完成**
   - 获取分配的URL，如：`https://your-galgame.vercel.app`

## 2. Deta部署

### 优点
- 免费额度充足
- 支持Node.js应用
- 提供数据库服务（如需要）

### 部署步骤

1. **注册账号**
   - 访问 [Deta官网](https://www.deta.sh/)
   - 创建免费账号

2. **安装Deta CLI**
   ```bash
   npm install -g deta
   ```

3. **登录Deta**
   ```bash
   deta login
   ```

4. **部署项目**
   ```bash
   cd dist
   deta new --node .
   ```

5. **获取URL**
   - 部署成功后会显示项目URL

## 3. Serv00.com部署

### 优点
- 提供稳定的免费虚拟主机
- 支持Node.js应用
- 可以长期运行

### 部署步骤

1. **注册账号**
   - 访问 [Serv00.com](https://www.serv00.com/)
   - 填写注册信息
   - 验证邮箱

2. **配置SSH访问**（推荐）
   - 在控制面板中创建SSH密钥
   - 或设置密码认证

3. **上传文件**
   ```bash
   # 使用SSH上传
   scp -r dist/* yourusername@yourserver.serv00.com:~/public_html/
   ```
   或使用FileZilla等FTP客户端上传

4. **启动Node.js应用**
   - 登录控制面板
   - 找到Node.js应用配置
   - 设置入口文件为`server.js`
   - 启动应用

5. **获取访问地址**
   - 通过控制面板查看分配的域名

## 4. Heroku部署

### 注意事项
- 免费计划每小时会休眠
- 首次访问需要等待10-20秒唤醒
- 每月有免费时长限制

### 部署步骤

1. **注册账号**
   - 访问 [Heroku官网](https://www.heroku.com/)
   - 创建免费账号

2. **安装Heroku CLI**
   ```bash
   npm install -g heroku
   ```

3. **登录Heroku**
   ```bash
   heroku login
   ```

4. **进入项目目录**
   ```bash
   cd dist
   ```

5. **初始化Git仓库**（如果尚未初始化）
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   ```

6. **创建Heroku应用**
   ```bash
   heroku create
   ```

7. **部署代码**
   ```bash
   git push heroku master
   ```

8. **访问应用**
   ```bash
   heroku open
   ```
   或访问命令输出中提供的URL

## 故障排除

### 端口问题
- 我们已经修改`server.js`支持环境变量端口，大多数平台会自动配置
- 如果遇到端口错误，检查平台文档中的端口配置说明

### 资源加载失败
- 确保所有资源文件路径正确
- 检查是否有跨域问题

### 应用启动失败
- 检查日志：大多数平台提供日志查看功能
  - Vercel: 通过控制台查看部署日志
  - Heroku: `heroku logs --tail`
  - Deta: `deta logs`

## 推荐平台选择

- **最佳体验**：Vercel（速度快，稳定）
- **长期运行**：Serv00.com（不自动休眠）
- **功能丰富**：Deta（提供数据库等额外服务）
- **临时分享**：Heroku（适合短期演示）

祝您部署顺利！如有其他问题，请参考各平台官方文档。