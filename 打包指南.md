# Galgame项目打包与分享指南

## 项目简介
这是一个简单的Galgame项目「芦中物语: 完蛋我被美女包围了!!!」，可以打包后分享给好友一起游玩。

## 打包步骤

### 方法一：使用构建脚本（推荐）

1. 确保已安装Node.js环境（可从官网 https://nodejs.org/ 下载安装）
2. 在项目根目录打开终端（Windows用户可使用命令提示符或PowerShell）
3. 运行以下命令安装依赖：
   ```
   npm install
   ```
4. 运行构建命令：
   ```
   npm run build
   ```
5. 构建完成后，所有文件将被复制到`dist`目录中

### 方法二：手动打包（适用于不想使用命令行的用户）

1. 创建一个名为`dist`的新文件夹
2. 手动复制以下文件和文件夹到`dist`目录：
   - `assets` 文件夹（包含游戏图片、音频和数据）
   - `scripts` 文件夹（包含游戏脚本）
   - `styles` 文件夹（包含游戏样式）
   - `index.html` 文件（游戏主页面）
   - `package.json` 文件（项目配置）
   - `server.js` 文件（游戏服务器）

## 如何与好友分享

### 方式一：本地运行（推荐好友使用）

1. 将`dist`文件夹发送给好友（可通过QQ、微信、网盘等方式）
2. 好友收到后，确保已安装Node.js环境
3. 在`dist`目录下打开终端
4. 运行以下命令安装依赖：
   ```
   npm install
   ```
5. 运行启动命令：
   ```
   npm start
   ```
6. 在浏览器中访问 `http://localhost:3000` 即可开始游戏

### 方式二：部署到免费云服务器

如果想要多人同时在线游玩，以下是几个适合部署Galgame项目的免费服务器选项：

#### 1. Vercel (推荐)

Vercel是一个流行的静态网站和Node.js应用托管平台，提供免费计划。推荐通过GitHub仓库连接的方式部署：

**方法一：通过GitHub仓库连接部署（推荐）**

1. 确保您的代码已推送到GitHub仓库（本项目已配置好vercel.json）
2. 访问 [Vercel官网](https://vercel.com/) 注册/登录账号
3. 在Vercel控制台点击"Add New Project"
4. 选择"Import Git Repository"，连接您的GitHub账户
5. 选择您的项目仓库
6. 配置部署设置：
   - Framework Preset：选择"Other"
   - Build Command：留空（Vercel将使用package.json中的build脚本）
   - Output Directory：留空
7. 点击"Deploy"开始部署
8. 部署完成后，获得公共URL

**方法二：通过CLI部署（需要交互式操作）**

1. 访问 [Vercel官网](https://vercel.com/) 注册账号
2. 安装Vercel CLI：`npm install -g vercel`（可能需要管理员权限）
3. 进入`dist`目录：`cd dist`
4. 登录Vercel账号：`npx vercel login`
5. 初始化并部署：`npx vercel`
6. 部署到生产环境（可选）：`npx vercel --prod`
7. 获得公共URL

**注意事项**：
- 执行命令时，可能需要使用管理员权限运行命令提示符或PowerShell
- 首次部署前必须先运行`npx vercel login`登录您的Vercel账户
- 强烈推荐使用方法1（GitHub仓库连接部署），因为它更简单且不需要本地登录操作

#### 2. Deta

Deta适合部署Node.js微服务：

1. 访问 [Deta官网](https://www.deta.sh/) 注册账号
2. 安装Deta CLI：`npm install -g deta`
3. 登录：`deta login`
4. 进入`dist`目录
5. 部署：`deta new --node .`

#### 3. Serv00.com

提供免费的虚拟主机服务：

1. 访问 [Serv00.com](https://www.serv00.com/) 注册账号
2. 登录控制面板，创建新的网站
3. 使用FTP或SSH上传`dist`目录的所有文件
4. 配置Node.js应用，设置`server.js`为入口文件
5. 启动应用并获取访问URL

#### 4. Heroku (有睡眠机制)

注意：Heroku免费计划每小时会自动休眠，访问时需要等待唤醒：

1. 访问 [Heroku官网](https://www.heroku.com/) 注册账号
2. 安装Heroku CLI：`npm install -g heroku`
3. 登录：`heroku login`
4. 进入`dist`目录
5. 创建Heroku应用：`heroku create`
6. 部署：`git push heroku master`
7. 访问提供的Heroku URL

### 部署注意事项

- 免费服务器通常有资源限制和使用条件，请查阅各平台的服务条款
- 对于包含大量媒体文件的Galgame，建议优化资源文件大小
- 某些平台可能需要添加特定的配置文件（如Procfile for Heroku）
- 部署前确保`server.js`中的端口设置正确，有些平台需要使用环境变量指定端口

## 注意事项

- 确保所有资源文件路径正确，特别是图片和音频文件
- 如果修改了项目结构，需要相应更新打包脚本或手动复制的文件列表
- 分享前最好在不同设备上测试，确保兼容性
- 如果好友在运行时遇到端口冲突，可以修改`server.js`文件中的端口号
- 本项目使用的是Express服务器，需要Node.js环境才能运行
- 构建脚本已针对Windows系统优化，可以直接使用